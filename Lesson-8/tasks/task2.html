<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Задача 2</title>
  <!-- <script src="./scripts/task1.js"></script> -->
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <h1>Задача 2</h1>
  <p>Дано масив, який зберігає кількість відвідувачів магазину протягом тижня. Вивести на екран:
  <ul>
    <li>номери днів, протягом яких кількість відвідувачів була меншою за 20;</li>
    <li>номери днів, коли кількість відвідувачів була мінімальною;</li>
    <li>номери днів, коли кількість відвідувачів була максимальною;</li>
    <li>загальну кількість клієнтів у робочі дні та окремо загальну кількість днів на вихідних.</li>
  </ul>
  </p>
  <h2>Результат обчислень</h2>
  <script>
    if (confirm('Почати тестування?')) {

      function getVisitorsNumberPerWeek() {
        const visitorsNumbers = []

        for (let i = 1; i <= 7; i++) {
          const visitorsNumber = parseInt(prompt(`Введіть кількість відвідувачів магазину для дня №${i}`, '25'))
          visitorsNumbers.push(visitorsNumber)
        }

        return visitorsNumbers
      }

      function getDayWithLessThan20(visitorsNumbers) {
        const dayWithLessThan20 = []
        for (let i = 0; i < visitorsNumbers.length; i++)
          if (visitorsNumbers[i] < 20)
            dayWithLessThan20.push(i + 1)
        return dayWithLessThan20
      }

      function getMinVisitedDays(visitorsNumbers) {

        let minVisitorsNumber = Infinity
        for (let i = 0; i < visitorsNumbers.length; i++) {
          if (visitorsNumbers[i] <= minVisitorsNumber)
            minVisitorsNumber = visitorsNumbers[i]
        }

        const minVisitedDays = []
        for (let i = 0; i < visitorsNumbers.length; i++) {
          if (visitorsNumbers[i] === minVisitorsNumber)
            minVisitedDays.push(i + 1)
        }

        return minVisitedDays
      }

      function getMaxVisitedDays(visitorsNumbers) {

        let maxVisitorsNumber = 0
        for (let i = 0; i < visitorsNumbers.length; i++) {
          if (visitorsNumbers[i] >= maxVisitorsNumber)
            maxVisitorsNumber = visitorsNumbers[i]
        }

        const maxVisitedDays = []
        for (let i = 0; i < visitorsNumbers.length; i++) {
          if (visitorsNumbers[i] === maxVisitorsNumber)
            maxVisitedDays.push(i + 1)
        }

        return maxVisitedDays
      }

      function getTotalVisitorsNumberByDayType(visitorsNumbers) {
        const maxWorkingDayNumber = 5
        let workingDaysVisitors = 0
        let weekendDaysVisitors = 0

        for (let i = 0; i < visitorsNumbers.length; i++) {
          if (i < maxWorkingDayNumber)
            workingDaysVisitors += visitorsNumbers[i]
          else weekendDaysVisitors += visitorsNumbers[i]
        }

        return [workingDaysVisitors, weekendDaysVisitors]
      }

      const visitorsNumbers = getVisitorsNumberPerWeek()
      const dayWithLessThan20 = getDayWithLessThan20(visitorsNumbers)
      const minVisitedDays = getMinVisitedDays(visitorsNumbers)
      const maxVisitedDays = getMaxVisitedDays(visitorsNumbers)
      const totalVisitorsNumberByDayType = getTotalVisitorsNumberByDayType(visitorsNumbers)

      document.write(`<div>Статистика за тиждень:
    <ol>
      <li>кількість відвідувачів була меншою за 20 у дні № ${dayWithLessThan20};</li>
      <li>кількість відвідувачів була мінімальною у дні № ${minVisitedDays};</li>
      <li>кількість відвідувачів була максимальною у дні № ${maxVisitedDays};</li>
      <li>загальна кількість клієнтів у робочі дні ${totalVisitorsNumberByDayType[0]} та загальна кількість клієнтів на вихідних ${totalVisitorsNumberByDayType[1]}.</li>
    </ol>
  </div>`)
    }
  </script>
  <a href="../index.html">Повернутися до списку завдань</a>
</body>

</html>